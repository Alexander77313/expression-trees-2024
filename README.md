# Упрощение деревьев выражений

### Лексемы

### Деревья разбора

## Задания

1. Упростить выражения, выполнив сложение:
$$2 + 3 \rightarrow 5, (-2 + b + 4) \cdot k \rightarrow (2 + b) \cdot k.$$
2. Упростить выражения, выполнив вычитание:
$$3 - 5 \rightarrow -2, 5 + b - 3 \rightarrow 2 + b.$$
3. Упростить выражения, выполнив умножение:
$$2 \cdot b \cdot 2 \rightarrow 4 \cdot b.$$
4. Упростить выражения, выполнив деление, если они делятся без остатка:
$$4 \cdot a / 2 \rightarrow 2 \cdot a.$$
5. Упростить выражения, выполнить возведение в степень c целым показателем:
$$2 ^\wedge 3 \rightarrow 8.$$
6. Упростить выражения, выполнив приведение подобных членов.
7. Редуцировать выражения, заменив операцию умножения переменной на целое число $n$
на сумму $n$ слагаемых:
$$a \cdot 3 \rightarrow a + a + a.$$
8. Редуцировать выражения, заменив операцию возведения переменной в целую степень $n$
на произведение $n$ слагаемых:
$$a ^\wedge 3 \rightarrow a \cdot a \cdot a.$$
9. Умножение переменной на сумму заменить на сумму произведений.
10. Умножение переменной на разность заменить на разность произведений.
11. Вынести общие сомножители (переменные и константы) из суммы.
12. Вынести общие сомножители (переменные и константы) из разности.
13. Упростить выражения, убрав из него все произведения, в которых в качестве
сомножителя используется ноль.
14. Убрать из выражений все слагаемые, равные нулю.
15. Убрать из выражений все сомножители, равные единице.
16. Убрать из частных все делители, равные единице.
17. Перемножить степени с одинаковыми основаниями:
$$a ^\wedge 2 \cdot a ^\wedge k \rightarrow a ^\wedge (2 + k).$$
18. Вынести из произведений унарные минусы:
$$a \cdot -b \cdot 3 \rightarrow -(a \cdot b \cdot 3),\
a \cdot -b \cdot 4 \cdot -5 \rightarrow a \cdot b \cdot 4 \cdot 5.$$
19. Упростить сложные (многоэтажные) дроби:
$$(a/b)/c \rightarrow a/(b \cdot c), a/(b/c) \rightarrow (a/b) \cdot c.$$
20. Заменить вычитание на сложение с противоположным числом:
$$a - b \cdot c \rightarrow a + (-(b \cdot c)).$$
21. Выполнить сложение и вычитание дробей:
$$a/b + c/d \rightarrow (a \cdot d + b \cdot c) / (b \cdot d).$$
22. Упростить дробь, сократив в числителе и знаменателе общие переменные и константы:
$$(a \cdot b \cdot 3) / (3 \cdot b \cdot c) \rightarrow a/c,\
a/(a \cdot b) \rightarrow 1/b.$$
23. Перемножить дроби:
$$(a/b) \cdot (c/d) \rightarrow (a \cdot c) / (b \cdot d).$$
24. Заменить степень с суммой в показателе на произведение степеней:
$$a ^\wedge (b + c) \rightarrow a ^\wedge b / a ^\wedge c.$$
25. Заменить степень с разностью в показателе на частное степеней:
$$a ^\wedge (b - c) \rightarrow a ^\wedge b / a ^\wedge c.$$
26. Заменить дробь со степенью в знаменателе произведением на степень с
отрицательным показателем:
$$a / (b ^\wedge c) \rightarrow a \cdot b ^\wedge -c.$$
27. (???) Поменять местами операнды у операций сложения и умножения.
Учитывать приоритет и ассоциативность операций.
28. Выполнить замену переменной на выражение:
$$a ::= i + 4, a + 2 \cdot a \rightarrow i.$$
29. Упорядочить соседние операнды в операциях сложения и умножения,
вынося вперед константы. Сохранить порядок следования констант и переменных:
$$a + 3 + b + a \cdot c + 2 \rightarrow 3 + 2 + a + b + a \cdot c.$$
30. Лексикографически упорядочить соседние операнды операции сложения и умножения:
$$2 + b + c + a - a \cdot b \rightarrow 2 + a + b + c - a \cdot b..$$

